<section class="content-header">
  <h1>
      User Management
      <small></small>
    </h1>
  <ol class="breadcrumb">
      <li><a href=""><i class="fa fa-dashboard"></i> Home</a></li>
      <li class="active">User Management</li>
  </ol>
</section>
<section class="content">
  <div class="inner-content static-content">
      <div class="panel panel-default custom-panel">
        <div class="panel-body">
               <div class="search-bar">
              <input type="text" ng-model="searchInput" ng-keyup="search();" placeholder="Search" ng-change="abcd()" maxlength="5">
              <!-- <button ng-click="search();" ng-disabled="toggleSearchButton" class="btn-primary">search</button> -->
              <button class="fa fa-search text-center custum-search" ng-click="search();" ng-disabled="toggleSearchButton"></button>
               </div>
              <br>

              <div class="custom-table table-responsive">
                  <table border="1" class="table table-bordered">
                      <tr>
                          <th>Id</th>
                          <th>Name</th>
                          <th>Email</th>
                          <th>UserName</th>
                          <th>Created On</th>
                          <th>Status</th>
                          <th>Action</th>
                      </tr>
                      <tr ng-repeat="data in userData" ng-if="userData.length">
                          <td>{{$index+1+index}}</td>
                          <td>{{data.name}}</td>
                          <td>{{data.email}}</td>
                          <td>{{data.userName}}</td>
                          <td>{{data.createdAt.substring(0,10)}}</td>
                          <td>{{data.status}}</td>
                          <td class="action-buttons">
                              <a class="btn btn-primary btn-sm" ng-click="viewUser(data)"><i class="fa fa-eye" aria-hidden="true"></i>&nbsp; View</a>&nbsp;&nbsp;&nbsp;
                              <button class="btn btn-success btn-sm" ng-click="blockUnblockUser(data);"  data-toggle="modal" data-target="#block-unblock" ng-disabled="(data.status=='DELETED'||data.status=='BLOCKEDANDDELETED'||data.status=='INACTIVE')?true:false"> <i class="fa fa-ban" aria-hidden="true" ></i>&nbsp; {{(data.status=="ACTIVE")?"Block":"Unblock"}}</button>&nbsp;&nbsp;&nbsp;
                              <button class="btn btn-danger btn-sm" ng-click="deleteUser(data);" data-toggle="modal" data-target="#delete" ng-disabled="(data.status=='INACTIVE')?true:false"><i class="fa fa-trash-o" aria-hidden="true"></i>&nbsp; {{(data.status==="DELETED"||data.status==="BLOCKEDANDDELETED")?"Restore":"Delete"}}</button>
                          </td>
                      </tr>
                  </table>
                  <p ng-if="!userData.length" style="text-align:center">No Data Found</p>
              </div>
              <pagination ng-if="userData.length" class="custom-pagination" boundary-links="true" total-items="totalItems" items-per-page="itemsPerPage" ng-model="currentPage" ng-change="newPage()" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;">
              </pagination>
          </div>
      </div>
  </div>
</section>


<!-- Modal -->
<div class="modal fade modal-block" id="block-unblock" role="dialog">
  <div class="modal-dialog">
  
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header custum-modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title"></h4>
      </div>
      <div class="modal-body">
        <p class="text-center">Are you sure you want to {{valueBlockUnblock == 'BLOCKED' ? 'block': 'unblock'}} this user?</p>
      </div>
      <div class="modal-footer custum-modal-footer">
        <button type="button" class="btn btn-default btn-blue" data-dismiss="modal" ng-click="finalBlockUnblock()">Yes</button>
        <button type="button" class="btn btn-default btn-red" data-dismiss="modal">No</button>
      </div>
    </div>
    
  </div>
</div>


  <div class="modal fade modal-block" id="delete" role="dialog">
  <div class="modal-dialog">
  
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header custum-modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title"></h4>
      </div>
      <div class="modal-body">
        <p class="text-center">Are you sure you want to {{value == 'DELETED' ? 'delete' : 'delete'}} this user?</p>
      </div>
      <div class="modal-footer custum-modal-footer">
        <button type="button" class="btn btn-default btn-blue" data-dismiss="modal" ng-click="finalDelete();">Yes</button>
        <button type="button" class="btn btn-default btn-red" data-dismiss="modal">No</button>
      </div>
    </div>
    
  </div>
</div>



